# Используем базовый образ GCC для сборки C++ приложения
FROM gcc:latest

# Обновляем списки пакетов и проверяем, что репозитории доступны
RUN apt-get update || echo "Ошибка обновления репозиториев"

# Устанавливаем необходимые пакеты
RUN apt-get install -y cmake make g++

# Устанавливаем рабочую директорию
WORKDIR /usr/src/app

# Копируем исходный код и файл сборки
COPY . .

# Собираем проект с помощью CMake
RUN cmake . && make

# Устанавливаем точку входа
CMD ["./app1"]
